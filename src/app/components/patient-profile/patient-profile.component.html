<div class="mat-card-style">

    <app-page-title [title]="title"></app-page-title>
    <h5 *ngIf="!editable">{{patient.title}}. {{patient.firstName}} {{patient.lastName}}</h5>
    <h6 *ngIf="!editable">{{patientAge}} yrs</h6>
    <br>

    <ng-container *ngIf="editable">
        <mat-form-field style="width: 240px" class="example-full-width">
            <mat-label>Title</mat-label>
            <mat-select [(value)]="patient.title">
                <ng-container *ngFor="let title of titles" >
                    <mat-option value="{{title}}">
                        {{title}}
                    </mat-option>
                </ng-container>
            </mat-select>
        </mat-form-field>

        <mat-form-field style="width: 240px" class="example-full-width">
            <mat-label>First Name: {{patient.firstName}}</mat-label>
            <input matInput placeholder="" [value]="patient.firstName">
        </mat-form-field>

        <mat-form-field style="width: 240px" class="example-full-width">
            <mat-label>Last Name: {{patient.lastName}}</mat-label>
            <input matInput placeholder="" [value]="patient.lastName">
        </mat-form-field>

        <mat-form-field style="width: 240px" >
            <input matInput required [matDatepicker]="picker1" placeholder="Birthday:" [formControl]="dateFormControl">
            <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
            <mat-datepicker  #picker1></mat-datepicker>
        </mat-form-field>
        <mat-form-field  style="width: 240px" class="example-full-width">
            <mat-label>Allergies:</mat-label>
            <textarea matInput placeholder="" value="{{patient.allergies}}"></textarea>
        </mat-form-field>

        <mat-form-field  style="width: 240px" class="example-full-width">
            <mat-label>Medical History:</mat-label>
            <textarea matInput placeholder="" value="{{patient.medicalHistory}}"></textarea>
        </mat-form-field>

        <br>
        <br>
        <button style="width: 240px" mat-raised-button color="primary" (click)="toggleEditable(false)">Save</button>
        <br>
        <br>
        <button style="width: 240px" mat-raised-button color="secondary" (click)="toggleEditable(false)">Back</button>
        <br>
    </ng-container>

    <ng-container *ngIf="!editable">
        <button style="width: 320px" (click)="goToMyAppointments()" mat-raised-button color="primary">My Bookings</button>
        <br>
        <br>
        <button style="width: 320px" mat-raised-button (click)="toggleEditable(true)">Edit Profile</button>
        <br>
        <br>
        <button style="width: 320px" mat-flat-button color="warn" (click)="dataHandlerService.logOut()">Log Out</button>
    </ng-container>
</div>
