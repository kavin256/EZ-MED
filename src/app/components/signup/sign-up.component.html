<div align="center" class="mat-card-style">
    <app-page-title [title]="'Sign In / Register'"></app-page-title>

    <mat-tab-group style="width: 320px" mat-align-tabs="center">
        <ng-container>
        <mat-tab label="Existing User">
            <div class="mat-card-style" align="center">
                <div class="example-container">
                    <mat-form-field style="width: 240px" appearance="legacy">
                        <mat-label>Email</mat-label>
                        <input (keydown.enter)="logIn()" [(ngModel)]="email" matInput>
                    </mat-form-field>
                    <br>
                    <mat-form-field style="width: 240px" appearance="legacy">
                        <mat-label>Password</mat-label>
                        <input (keydown.enter)="logIn()" matInput [(ngModel)]="pass" [type]="hide ? 'password' : 'text'">
                    </mat-form-field>
                    <br>
                    <p style="color: crimson" *ngIf="logInError && logInError !== ''">{{logInError}}</p>
                    <br>
                    <button type="submit" [disabled]="!(email && pass)" (click)="logIn()" style="width: 240px" mat-flat-button color="primary">Log In</button>
                    <br>
                    <br>
                    <button disabled style="width: 180px"  mat-stroked-button color="link">Forgot My Password</button>
                    <br>
                </div>
            </div>
        </mat-tab>
        </ng-container>
        <ng-container *ngIf="isSignUp">
            <mat-tab label="New User">
                <div class="mat-card-style" align="center">
                    <br>
                    <p style="color: crimson" *ngIf="isIncompleteErrorAvailable">Please complete the mandatory details !!</p>
                    <br>
                    <div align="left" style="padding-left: 55px">
                        <mat-radio-group aria-label="Select an option" (change)="setIsDoctor($event)">
                            <mat-radio-button [checked]='true' value=false>I'm a Patient</mat-radio-button>
                            <mat-radio-button value=true>I'm a Medical Professional</mat-radio-button>
                            <br>
                        </mat-radio-group>
                    </div>
                    <br>
                    <div>
                        <mat-form-field style="width: 240px" appearance="legacy">
                            <mat-label>Title</mat-label>
                            <mat-select required [(value)]="title" [formControl]="titleFormControl">
                                <ng-container *ngFor="let title of titles" >
                                    <mat-option value="{{title}}">
                                        {{title}}
                                    </mat-option>
                                </ng-container>
                            </mat-select>
                        </mat-form-field>
                        <br>
                    </div>
                    <div>
                        <mat-form-field style="width: 240px" appearance="legacy">
                            <mat-label>First Name</mat-label>
                            <input required matInput #input1 [(ngModel)]='firstName' [formControl]="firstNameFormControl">
                        </mat-form-field>
                        <br>
                        <mat-form-field style="width: 240px" appearance="legacy">
                            <mat-label>Last Name</mat-label>
                            <input required matInput #input_ln [(ngModel)]='lastName' [formControl]="lastNameFormControl">
                        </mat-form-field>
                        <br>
                        <mat-form-field style="width: 240px"  appearance="legacy">
                            <mat-label>Email</mat-label>
                            <input required matInput #input2 [(ngModel)]='email' [formControl]="emailFormControl">
                        </mat-form-field>
                        <br>
                        <mat-form-field style="width: 240px"  appearance="legacy">
                            <mat-label>Gender</mat-label>
                            <mat-select required (selectionChange)="setGender($event.value)" [formControl]="genderFormControl">
                                <mat-option *ngFor="let gender of genders" [value]="gender.value">
                                    {{gender.viewValue}}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                        <br>
                    </div>
                    <div [hidden]="isDoctor">
                        <mat-form-field style="width: 240px" >
                            <input matInput readonly required [matDatepicker]="picker1" placeholder="Birthday:" [formControl]="bDayFormControl">
                            <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                            <mat-datepicker disabled="false" #picker1></mat-datepicker>
                        </mat-form-field>
                        <br>
                    </div>
                    <div>
                        <mat-form-field style="width: 240px" appearance="legacy">
                            <mat-label>Phone Number</mat-label>
                            <input required matInput [(ngModel)]='contactNumber' [formControl]="contactNumberFormControl">
                        </mat-form-field>
                    </div>
                    <ng-container *ngIf="contactNumber && contactNumber !== ''">
                        <ngb-alert [dismissible]="false" style="width: 250px; max-height: 80px">
                            <section class="example-section">
                                <mat-checkbox style="font-size: small" class="example-margin" (change)="setSimilarity()">WhatsApp number is the same<br>as contact  number</mat-checkbox>
                            </section>
                        </ngb-alert>
                    </ng-container>
                    <div>
                        <mat-form-field style="width: 240px"  appearance="legacy">
                            <mat-label>WhatsApp Number</mat-label>
                            <input matInput #input7 [(ngModel)]='whatsAppNumber' [formControl]="whatsAppNumberFormControl">
                        </mat-form-field>
                    </div>
                    <div [hidden]="isDoctor">
                        <mat-form-field style="width: 240px"  appearance="legacy">
                            <mat-label>Known Allergies</mat-label>
                            <textarea type="text" matInput #input8 [(ngModel)]='knownAllergies'></textarea>
                        </mat-form-field>
                        <br>
                    </div>
                    <mat-form-field style="width: 240px"  appearance="legacy">
                        <mat-label>Preferred Password</mat-label>
                        <input matInput required [type]="hide ? 'password' : 'text'" [(ngModel)]='pass' [formControl]="passFormControl">
                    </mat-form-field>
                    <br>
                    <mat-form-field style="width: 240px"  appearance="legacy">
                        <mat-label>Confirm Password</mat-label>
                        <input matInput required [type]="hide ? 'password' : 'text'" [(ngModel)]='conPass' [formControl]="conPassFormControl">
                    </mat-form-field>
                    <br>
                    <ng-container *ngIf="isDoctor">
                        <mat-expansion-panel style="width: 250px" (opened)="panelOpenState = true"
                                             (closed)="panelOpenState = false">
                            <mat-expansion-panel-header>
                                <mat-panel-title>
                                    {{!panelOpenState ? 'Show' : 'Hide'}} Agreement
                                </mat-panel-title>
                            </mat-expansion-panel-header>
                            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi eros ligula, feugiat nec cursus ut, faucibus in velit. Nulla nec interdum justo, vitae finibus nisl. Phasellus pulvinar ullamcorper augue, eu pulvinar sapien pharetra eget. Nullam dapibus euismod sapien, quis blandit ipsum rhoncus quis. Duis convallis sapien ac lectus pretium vehicula. Vivamus feugiat metus erat, vel venenatis justo mattis eu. Sed tortor libero, venenatis eu malesuada a, tempus eget mi. Nulla sodales orci felis. Phasellus a arcu a urna condimentum aliquet. Maecenas sit amet pulvinar quam. Pellentesque convallis neque ut enim porttitor, eget aliquet felis egestas.

                                Aenean ut ultrices augue. Sed sit amet congue tortor. Proin ultricies, urna sit amet rutrum tempor, quam nibh lobortis augue, sed sagittis neque arcu ac nisl. Aliquam turpis turpis, consequat sed ultricies ut, congue quis lectus. Praesent et nunc interdum, faucibus lorem sit amet, aliquam magna. Aliquam imperdiet ut augue vitae congue. Proin sit amet fringilla est. Curabitur sit amet lectus tincidunt, pretium metus eu, blandit nisl. Fusce pretium nisl eget ex rhoncus aliquam. Pellentesque tempus condimentum nisl consectetur iaculis. Vivamus ac mi quis orci sollicitudin facilisis. Donec vitae ante at dolor tempor posuere sed in elit. Proin eu mi ac dolor tempus scelerisque eu id purus. Donec quis ultricies leo. Quisque eu ante in est hendrerit auctor vitae vitae enim. Integer vitae risus elementum, facilisis mi quis, pharetra neque.

                                <br>

                            <section style="vertical-align: center" class="example-section">
                                <mat-checkbox style="font-size: small" class="example-margin" (change)="agreed = !agreed">I agree to the terms & conditions</mat-checkbox>
                            </section>
                        </mat-expansion-panel>
                    </ng-container>
                    <br>
                    <button [disabled]="isDoctor && !agreed" style="width: 240px" mat-flat-button color="primary" (click)="SignUp()">Sign Up</button>
                    <br>
                    <br>
                    <p style="color: crimson" *ngIf="passwordMissMatch">Password and Confirmed password do not match!!</p>
                    <br>
                </div>
            </mat-tab>
        </ng-container>

    </mat-tab-group>
</div>
